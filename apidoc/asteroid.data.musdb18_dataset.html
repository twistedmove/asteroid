

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>asteroid.data.musdb18_dataset module &mdash; asteroid 0.0.1 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://github.com/mpariente/asteroidapidoc/asteroid.data.musdb18_dataset.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> asteroid
          

          
            
            <img src="../_static/asteroid_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Why Asteroid ?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../why_use_asteroid.html">Why use Asteroid ?</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filterbanks.html">Filterbank API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../filterbanks.html#filterbank-encoder-and-decoder">Filterbank, Encoder and Decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filterbanks.html#learnable-filterbanks">Learnable filterbanks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../filterbanks.html#module-asteroid.filterbanks.free_fb"><span class="hidden-section">Free</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="../filterbanks.html#analytic-free"><span class="hidden-section">Analytic Free</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="../filterbanks.html#parameterized-sinc"><span class="hidden-section">Parameterized Sinc</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../filterbanks.html#fixed-filterbanks">Fixed filterbanks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../filterbanks.html#module-asteroid.filterbanks.stft_fb"><span class="hidden-section">STFT</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../losses.html">Losses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../losses.html#module-asteroid.losses.pit_wrapper">Permutation invariant (PIT) training made easy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../losses.html#available-loss-functions">Available loss functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../losses.html#sdr"><span class="hidden-section">SDR</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="../losses.html#mse"><span class="hidden-section">MSE</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../masknn.html">DNN building blocks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../masknn.html#mask-estimators">Mask estimators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../masknn.html#ready-to-use"><span class="hidden-section">Ready-to-use</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="../masknn.html#layers"><span class="hidden-section">Layers</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../masknn.html#normalization-layers">Normalization layers</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Datasets and Recipes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../supported_datasets.html">List of supported datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_a_recipe.html">Running a recipe</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending asteroid</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../writing_a_new_loss.html">Writing a new loss</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_a_new_filterbank.html">Writing a new filterbank</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">asteroid</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>asteroid.data.musdb18_dataset module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/asteroid.data.musdb18_dataset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-asteroid.data.musdb18_dataset">
<span id="asteroid-data-musdb18-dataset-module"></span><h1>asteroid.data.musdb18_dataset module<a class="headerlink" href="#module-asteroid.data.musdb18_dataset" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="asteroid.data.musdb18_dataset.MUSDB18Dataset">
<em class="property">class </em><code class="sig-prename descclassname">asteroid.data.musdb18_dataset.</code><code class="sig-name descname">MUSDB18Dataset</code><span class="sig-paren">(</span><em class="sig-param">root, sources=['vocals', 'bass', 'drums', 'other'], targets=None, suffix='.wav', split='train', subset=None, segment=None, samples_per_track=1, random_segments=False, random_track_mix=False, source_augmentations=&lt;function MUSDB18Dataset.&lt;lambda&gt;&gt;, sample_rate=44100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/asteroid/data/musdb18_dataset.html#MUSDB18Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asteroid.data.musdb18_dataset.MUSDB18Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pytorch.org/docs/master/data.html#torch.utils.data.Dataset" title="(in PyTorch vmaster (1.7.0a0+9600ed9 ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.utils.data.Dataset</span></code></a></p>
<p>MUSDB18 music separation dataset</p>
<p>The dataset consists of 150 full lengths music tracks (~10h duration) of
different genres along with their isolated stems:</p>
<blockquote>
<div><p><cite>drums</cite>, <cite>bass</cite>, <cite>vocals</cite> and <cite>others</cite>.</p>
</div></blockquote>
<p>Out-of-the-box, asteroid does only support MUSDB18-HQ which comes as
uncompressed WAV files. To use the MUSDB18, please convert it to WAV first:</p>
<p>MUSDB18 HQ: <a class="reference external" href="https://zenodo.org/record/3338373">https://zenodo.org/record/3338373</a>
MUSDB18     <a class="reference external" href="https://zenodo.org/record/1117372">https://zenodo.org/record/1117372</a></p>
<dl class="simple">
<dt>Note: The datasets are hosted on Zenodo and require that users</dt><dd><p>request access, since the tracks can only be used for
academic purposes. We manually check this requests.</p>
</dd>
</dl>
<p>This dataset asssumes music tracks in (sub)folders where each folder
has a fixed number of sources (defaults to 4). For each track, a list
of <cite>sources</cite> and a common <cite>suffix</cite> can be specified.
A linear mix is performed on the fly by summing up the sources</p>
<p>Due to the fact that all tracks comprise the exact same set
of sources, random track mixing can be used can be used,
where sources from different tracks are mixed together.</p>
<dl class="simple">
<dt>Folder Structure:</dt><dd><p>train/1/vocals.wav —————        train/1/drums.wav —————–+–&gt; input (mix), output[target]
train/1/bass.wav ——————|
train/1/other.wav —————-/</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Root path of dataset</p></li>
<li><p><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – List of source names
that composes the mixture.
Defaults to MUSDB18 4 stem scenario: <cite>vocals</cite>, <cite>drums</cite>, <cite>bass</cite>, <cite>other</cite>.</p></li>
<li><p><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – <p>List of source names to be used as
targets. If None, a dict with the 4 stems is returned.</p>
<blockquote>
<div><p>If e.g [<cite>vocals</cite>, <cite>drums</cite>], a tensor with stacked <cite>vocals</cite> and
<cite>drums</cite> is returned instead of a dict. Defaults to None.</p>
</div></blockquote>
</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Filename suffix, defaults to <cite>.wav</cite>.</p></li>
<li><p><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset subfolder, defaults to <cite>train</cite>.</p></li>
<li><p><strong>subset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Selects a specific of
list of tracks to be loaded, defaults to <cite>None</cite> (loads all tracks).</p></li>
<li><p><strong>segment</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Duration of segments in seconds,
defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> which loads the full-length audio tracks.</p></li>
<li><p><strong>samples_per_track</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples yielded from each track, can be used to increase
dataset size, defaults to <cite>1</cite>.</p></li>
<li><p><strong>random_segments</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enables random offset for track segments.</p></li>
<li><p><strong>boolean</strong> (<em>random_track_mix</em>) – enables mixing of random sources from
different tracks to assemble mix.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>:param source_augmentations (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <cite>obj</cite>: <cite>callable</cite>):</dt><dd><p>list of augmentation function names,
defaults to no-op augmentations (input = output)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Samplerate of files in dataset.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Root path of dataset</p></li>
<li><p><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – List of source names.
Defaults to MUSDB18 4 stem scenario: <cite>vocals</cite>, <cite>drums</cite>, <cite>bass</cite>, <cite>other</cite>.</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Filename suffix, defaults to <cite>.wav</cite>.</p></li>
<li><p><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset subfolder, defaults to <cite>train</cite>.</p></li>
<li><p><strong>subset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Selects a specific of
list of tracks to be loaded, defaults to <cite>None</cite> (loads all tracks).</p></li>
<li><p><strong>segment</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Duration of segments in seconds,
defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> which loads the full-length audio tracks.</p></li>
<li><p><strong>samples_per_track</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples yielded from each track, can be used to increase
dataset size, defaults to <cite>1</cite>.</p></li>
<li><p><strong>random_segments</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enables random offset for track segments.</p></li>
<li><p><strong>boolean</strong> (<em>random_track_mix</em>) – enables mixing of random sources from
different tracks to assemble mix.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>:ivar ~MUSDB18Dataset.source_augmentations (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <cite>obj</cite>: <cite>callable</cite>):</dt><dd><p>list of augmentation function names,
defaults to no-op augmentations (input = output)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Samplerate of files in dataset.</p></li>
<li><p><strong>tracks</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Dict</span></code>) – List of track metadata</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="asteroid.data.musdb18_dataset.MUSDB18Dataset.get_infos">
<code class="sig-name descname">get_infos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/asteroid/data/musdb18_dataset.html#MUSDB18Dataset.get_infos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asteroid.data.musdb18_dataset.MUSDB18Dataset.get_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dataset infos (for publishing models).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict, dataset infos with keys <cite>dataset</cite>, <cite>task</cite> and <cite>licences</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="asteroid.data.musdb18_dataset.MUSDB18Dataset.get_tracks">
<code class="sig-name descname">get_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/asteroid/data/musdb18_dataset.html#MUSDB18Dataset.get_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asteroid.data.musdb18_dataset.MUSDB18Dataset.get_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads input and output tracks</p>
</dd></dl>

<dl class="attribute">
<dt id="asteroid.data.musdb18_dataset.MUSDB18Dataset.dataset_name">
<code class="sig-name descname">dataset_name</code><em class="property"> = 'MUSDB18'</em><a class="headerlink" href="#asteroid.data.musdb18_dataset.MUSDB18Dataset.dataset_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Oncoming

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>